# h1

## Threat Modeling

### Braiterman et al 2020: https://www.threatmodelingmanifesto.org/

- Threat modeling is simply looking at all the ways our systems could be compromised, and figuring out how to prevent or protect against it before it ever happens
  
- The threat modeling manifesto serves as a guide to developing or refining a threat modeling methodology that fits the need of the organization

- I understand it as a handbook for best practices to follow when threat modeling so that we can have the best results

### Shostack 2022: https://www.youtube.com/playlist?list=PLCVhBqLDKoOOZqKt74QI4pbDUnXSQo0nf

- One of the main reasons why threat modeling is done is to anticipate problems when it doesn't cost anything to fix them

- It should be done early, precisely in the planning stage as we think through what we are going to build and how it is going to work. It should be done way before the first line of code is even written and should not be an after thought when we are done building

- Threat modeling follows a very simple 4 question framework:
    1. What are we working on?
    2. What could go wrong?
    3. What are we going to do about it?
    4. Did we do a good job

- Answering the question "What are we working on?" is made much easier by collaborating, seeing things from another person's point of view because as an individual I am limited to what I know

- Sketching out the idea brings out what we have in our heads into a form that everyone can see and comment on and refine. This is very important because the first idea we have is usually imperfect and sketching it out helps us see this an tackle it effectively.

- Keeping a document of record also helps as it provides a clearer picture we can base our work on

- The question "What could go wrong?" is the heart of threat modeling

- By thinking about STRIDE (Spoofing, Tampering, Repudiation, Information disclosure,  Denial of Serivice and Elevation of Privileges), we can improve the quality of answers we get when we ask the question "What could go wrong?" as these problems are some of the most common problems faced by systems

- Doing something about each and every problem we discovered while thinking about what could go wrong is a must. Nothing must be thrown off

- Risk manangement and threat modeling go hand in hand. Risk management quantifies the probability and impact of a threat and it helps us decide the best course of action to take about a threat, but it cannot be done without doing threat modeling first

- If after threat modeling, I can confidently recommend it to my colleagues, then we probably did a good job.

### OWASP CheatSheets Series Team 2021: https://cheatsheetseries.owasp.org/cheatsheets/Threat_Modeling_Cheat_Sheet.html

- One of the advantages of threat modeling is the improved visibility of the target of evaluation. This is because to properly threat model we need to know how a system work, how the data flows and how the users will interact with the system. To understand all of these, we need to take a closer look at the system in question so we can get the best results

- It is important to address each of the 4 questions
    1. What are we building? - System Modeling
    2. What could go wrong? - Threat Identification
    3. What are we going to to about it? - Response and Mitigations
    4. Did we do a good enough job? - Review and Validation
 
- In choosing our response to a risk, we have the following options
    1. Mitigate: Reduce the likelihood of it happening
    2. Eliminate: Simply remove the feature that causes the risk
    3. Transfer: Shift the responsiblity to another entity such as the customer
    4. Accept: Do not mitigate, eliminate, or transfer the risk because none of the above options are acceptable given business requirements or constraints.
 
## InfoSec Scene

### Darknet Diaries Podcast - Ep 144: Rachel

  The main takeaway from this episode for me is that humans are way easier and cheaper to hack than computers. Social engineering is a thing and it targets people not computers with the aim of trying to get them to leak information that will aid attackers to get into systems. One of the biggest things that these social engineers leverage is what we post on social media. An attacker doesn't need to go through all the stress of hacking a system to see user data when that same user has published the data openly on social media. This highlights the dangers of oversharing on social media and why we should be careful about the information we put out there.

### Security Hygiene

- Regularly backup your data
- Keep all software up to date
- Use passkeys when available
- Use strong and unique passwords for every account
- Enable Multi-Factor Authentication (MFA) for every account where possible
- Avoid oversharing on social media
- Install antivirus software, but remember that software, no matter how sophisticated it is, is useless if the user does dumb stuff

### Make-Belief Boogie Man

#### 1. What are we working on?

  The name of the company is Quiz Pro and we are a subscription based platform that utilizes AI to create quizzes for users based on the documents they upload and test their knowledge on the source material and also track their performance

  Our key assets are:
  - Customer Data i.e. personally identifiable information (PII), especially the payment information of our clients
  - Source code and intellectual property: The algorithms we use to track performance and the AI models we use to create the quizzes
  - Live operational systems: Systems that must be continuously available to ensure a seamless user experience and business continuity such as web servers, database servers and APIs

Security should ensure that these remain confidential, accurate and available which will directly support our reputation and revenue

From the customer's perspective the key touchpoints are the website, mobile app and customer support desk. Protecting these touchpoints and the data behind them allow us to maintain trust and to continue serving customers reliably.

This is a simple diagram of how the system would work:

              Customer
                 |
                 v
        +-------------------+
        | Website / Mobile  |
        +-------------------+
                  |
                  v
        +-------------------+
        |  App Server / API |
        +-------------------+
           |      |      |
           v      v      v
    +------+ +------+ +----------------+
    |  DB  | |Storage| | Payment System|
    |User  | |Docs   | | Subscriptions |
    |Data  | |Uploads| | & Billing     |
    +------+ +------+ +----------------+
                  |
                  v
         +----------------+
         | Quiz Generator |
         |   (AI Model)   |
         +----------------+

#### 2. What can go wrong?

  Using the STRIDE threat model we can identify a number of potential risks that may arise in a system like this:
  - Spoofing: An attacker can spoof the payment portal to get card details of our users.
  
  - Tampering: An attacker could also create a fake version of the app or alter a software update and trick people into downloading malware on their device.
  
  - Repudiation: A client could claim they never authorized their subscription to be renewed and that might lead to chargebacks and loss of revenue
  
  - Information Disclosure: A data breach could leak all the information of our users into public domain which could have severe financial and reputational damage
  
  - Denial of Service: An attacker could attempt to overwhelm our servers. This would make our services unavailable, frustrate customers, damage our reputation, and interrupt our revenue stream
  
  - Elevation of privilege: An attacker could exploit a vulnerability to gain admin access to our database servers and then all our data is in their hands to do with as they please.

Risk Prioritization:

-  Information Disclosure (Data Breach): High probability (social engineering, unpatched vulnerabilities) and high impact (legal fees, reputational damage, fines). This is the most significant threat

-  Denial of Service: Moderate probablity and high impact (loss of revenue and customer goodwill)

-  Spoofing: High probability (social engineering is easy to execute) but a lower direct monetary impact on the company unless it leads to a full-scale breach. The reputational damage is still high.

Since we are an online service that handles payment information of our users, we would likely be a target for financially motivated cyber-criminals

Known TTPs are social engineering and phishing attacks targeting our employees to gain initial access, exploiting unpatched vulnerabilities in web applications, and leveraging automated tools to launch DDoS attacks.

#### 3. What are we going to do about it?

We will adopt the META framework for our mitigation strategy

1. Mitigate
  We will put measures in place to reduce the likelihood and impact of identified risks
  - Using secure coding practices to ensure that vulnerabilities cannot be exploited easily e.g using python's Django CSRF middleware to guard against CSRF
  - Enforce MFA and strong password policies for all accounts
  - Data protection: Encrypt all PII both in transit and at rest

2. Eliminate
  We can remove any unused code from the production enviroments to reduce potential attack vectors

3. Transfer
  By using cloud services and their robust security features, we could transfer some of the risk. We can also use verified third party systems like stripe to handle payments
  
4. Accept
   We can accept low impact and low probablility risks for example a user tampering with their in app stats, without affecting the system may be a minor and acceptable risk

#### 4. Did we do a good enough job?

The best way I feel we could answer this is by tracking the security metrics. Like the number of phising attempts reported by employees, number of vulnerablities found, etc. This is one way we could test the effectiveness of our security system.

Continuous evaluation is also important so that we stay up to date and update our methods at the beginning of every new feature development cycle.



## Sources

1. https://www.keepersecurity.com/blog/2024/06/12/cybersecurity-hygiene-checklist/

2. Chat GPT (GPT-5) specifically used creating the diagram of the company systems
